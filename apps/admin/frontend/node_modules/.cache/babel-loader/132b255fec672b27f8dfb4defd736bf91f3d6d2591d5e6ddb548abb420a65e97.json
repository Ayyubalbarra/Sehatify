{"ast":null,"code":"// apps/admin/frontend/src/pages/Dashboard.tsx\n\n\"use client\";\n\nvar _jsxFileName = \"C:\\\\Sehatify\\\\apps\\\\admin\\\\frontend\\\\src\\\\pages\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Users,\n// Total Pasien\nZap,\n// Penerimaan Gawat Darurat\nHeart,\n// O- Satuan Darah\nHospital,\n// Tempat Tidur Tersedia (dari lucide-react)\nLoader2 // Loading spinner\n// Untuk stok rendah/peringatan\n// Icon untuk quick actions\n} from 'lucide-react';\n\n// Import komponen kustom yang sesuai untuk desain admin\n// Asumsi Card ada di src/components/Card.tsx\n\n// Asumsi Button ada di src/components/Button.tsx\nimport MetricCard from '../components/Dashboard/MetricCard'; // Sudah ada\nimport HealthTrendChart from '../components/charts/HealthTrendChart'; // Sudah ada\nimport HealthMetricsChart from '../components/charts/HealthMetricsChart'; // Sudah ada\nimport AIInsightCard from '../components/Dashboard/AIInsightCard'; // Sudah ada\nimport SystemInfoCard from '../components/Dashboard/SystemInfoCard'; // Sudah ada\nimport QuickActionsCard from '../components/Dashboard/QuickActionsCard'; // Sudah ada\n\nimport { useAuth } from '../contexts/AuthContext'; // Admin AuthContext\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'; // Menambahkan useQueryClient\nimport toast from 'react-hot-toast';\n\n// Import API services dan tipe yang diperlukan dari services/api\nimport { dashboardAPI\n// Untuk stok darah\n// Untuk total pasien (opsional, jika Anda ingin data detail pasien di admin dashboard)\n// Untuk data poliklinik (opsional)\n// Untuk jadwal (opsional)\n// Import ApiResponse\n\n// Jika perlu detail dokter\n// Jika perlu detail poliklinik\n// Jika perlu detail inventory\n} from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  var _aiInsightsResponse$d, _aiInsightsResponse$d2, _adminOverviewData$to, _adminOverviewData$er, _adminOverviewData$bl, _adminOverviewData$av, _aiInsightsResponse$d3, _aiInsightsResponse$d4;\n  const {\n    user,\n    isAuthenticated,\n    isLoading: isLoadingAuth,\n    refreshUser\n  } = useAuth();\n  const queryClient = useQueryClient(); // Inisialisasi queryClient\n\n  // Ini untuk refresh profil admin, jika perlu nama yang benar\n  React.useEffect(() => {\n    if (isAuthenticated && user && !user.name) {\n      // User admin punya properti 'name'\n      refreshUser();\n    }\n  }, [isAuthenticated, user, refreshUser]);\n\n  // Query untuk Dashboard Overview (sesuai desain baru)\n  const {\n    data: adminOverviewResponse,\n    isLoading: isLoadingAdminOverview\n  } = useQuery({\n    queryKey: ['adminDashboardOverview'],\n    queryFn: () => dashboardAPI.getAdminDashboardOverview() // Endpoint baru di backend\n  });\n  const adminOverviewData = adminOverviewResponse === null || adminOverviewResponse === void 0 ? void 0 : adminOverviewResponse.data;\n\n  // Query untuk Pasien Minggu Ini (Line Chart)\n  const {\n    data: patientsPerWeekResponse,\n    isLoading: isLoadingPatientsPerWeek\n  } = useQuery({\n    queryKey: ['patientsPerWeek'],\n    queryFn: () => dashboardAPI.getPatientsPerWeek() // Endpoint baru di backend\n  });\n  const patientsPerWeekData = (patientsPerWeekResponse === null || patientsPerWeekResponse === void 0 ? void 0 : patientsPerWeekResponse.data) || [];\n\n  // Query untuk Pasien per Jam (Bar Chart)\n  const {\n    data: patientsPerHourResponse,\n    isLoading: isLoadingPatientsPerHour\n  } = useQuery({\n    queryKey: ['patientsPerHour'],\n    queryFn: () => dashboardAPI.getPatientsPerHour() // Endpoint baru di backend\n  });\n  const patientsPerHourData = (patientsPerHourResponse === null || patientsPerHourResponse === void 0 ? void 0 : patientsPerHourResponse.data) || [];\n\n  // Query untuk AI Insights\n  const {\n    data: aiInsightsResponse,\n    isLoading: isLoadingAIInsights\n  } = useQuery({\n    queryKey: ['aiInsights'],\n    queryFn: () => dashboardAPI.getAIInsights() // Endpoint baru di backend\n  });\n  const aiInsightSummary = aiInsightsResponse === null || aiInsightsResponse === void 0 ? void 0 : (_aiInsightsResponse$d = aiInsightsResponse.data) === null || _aiInsightsResponse$d === void 0 ? void 0 : _aiInsightsResponse$d.summary;\n  const aiRecommendations = (aiInsightsResponse === null || aiInsightsResponse === void 0 ? void 0 : (_aiInsightsResponse$d2 = aiInsightsResponse.data) === null || _aiInsightsResponse$d2 === void 0 ? void 0 : _aiInsightsResponse$d2.recommendations) || [];\n\n  // Data Serapan Hari Ini (menggunakan data dari AI Insights atau mock)\n  const todayAbsorption = React.useMemo(() => {\n    var _adminOverviewData$pa, _adminOverviewData$pa2;\n    // Anda bisa mendapatkan ini dari AI Insights jika backend memberikan detail terpisah\n    // atau dari dashboardAPI.getTodayAbsorption() jika Anda buat endpoint itu\n    return [{\n      id: '1',\n      text: `Stok darah O- rendah (${(adminOverviewData === null || adminOverviewData === void 0 ? void 0 : adminOverviewData.bloodUnitsOminus) || 0} unit tersedia)`,\n      priority: adminOverviewData !== null && adminOverviewData !== void 0 && adminOverviewData.bloodUnitsOminus && adminOverviewData.bloodUnitsOminus <= 10 ? \"high\" : \"low\"\n    }, {\n      id: '2',\n      text: `Pasien meningkat ${(adminOverviewData === null || adminOverviewData === void 0 ? void 0 : (_adminOverviewData$pa = adminOverviewData.patientTrendData) === null || _adminOverviewData$pa === void 0 ? void 0 : (_adminOverviewData$pa2 = _adminOverviewData$pa[0]) === null || _adminOverviewData$pa2 === void 0 ? void 0 : _adminOverviewData$pa2.value) || 0}% dibandingkan kemarin`,\n      priority: \"medium\"\n    },\n    // Data ini perlu dihitung di backend\n    {\n      id: '3',\n      text: `Shift malam perlu tambahan perawat`,\n      priority: \"low\"\n    }];\n  }, [adminOverviewData]);\n\n  // Data Sistem Health (SystemInfoCard)\n  const {\n    data: systemHealthResponse,\n    isLoading: isLoadingSystemHealth\n  } = useQuery({\n    queryKey: ['systemHealth'],\n    queryFn: () => dashboardAPI.getSystemHealth() // Menggunakan API system health yang sudah ada\n  });\n  const systemHealthData = systemHealthResponse === null || systemHealthResponse === void 0 ? void 0 : systemHealthResponse.data;\n\n  // Mutasi untuk Seed Database (dari QuickActionsCard)\n  const seedDatabaseMutation = useMutation({\n    mutationFn: async () => {\n      // Anda perlu membuat endpoint POST /api/v1/seed/database di backend\n      // Ini biasanya di `seedRoutes.ts` dan `seedController.ts`\n      toast.error(\"Seed Database API belum diimplementasikan di backend!\");\n      return Promise.reject(\"Not Implemented\");\n    },\n    onSuccess: () => {\n      toast.success(\"Database berhasil diisi dengan data sampel!\");\n      // Invalidate semua query terkait dashboard agar data baru termuat\n      queryClient.invalidateQueries({\n        queryKey: ['adminDashboardOverview']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['patientsPerWeek']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['patientsPerHour']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['aiInsights']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['lowStockAlerts']\n      }); // Ini dari inventory\n      queryClient.invalidateQueries({\n        queryKey: ['systemHealth']\n      });\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      toast.error(`Gagal mengisi database: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message}`);\n    }\n  });\n  const overallLoading = isLoadingAuth || isLoadingAdminOverview || isLoadingPatientsPerWeek || isLoadingPatientsPerHour || isLoadingAIInsights || isLoadingSystemHealth;\n\n  // Jika belum login atau masih loading autentikasi, mungkin tampilkan loader atau redirect\n  if (isLoadingAuth) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen items-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"h-10 w-10 animate-spin text-primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ml-4 text-slate-500\",\n        children: \"Memuat informasi autentikasi...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Jika tidak terautentikasi (admin), arahkan ke login\n  if (!isAuthenticated && !isLoadingAuth) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-background py-8 flex items-center justify-center text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl text-text-light\",\n        children: [\"Silakan \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"text-primary hover:underline\",\n          children: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 56\n        }, this), \" untuk melihat dashboard Anda.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-slate-800\",\n        children: \"Dashboard Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-slate-500\",\n        children: \"Selayang pandang manajemen rumah sakit Anda.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), overallLoading && !adminOverviewData ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-24\",\n      children: [/*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"h-8 w-8 animate-spin text-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ml-2 text-slate-500\",\n        children: \"Memuat metrik...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 10\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5\",\n      children: [/*#__PURE__*/_jsxDEV(MetricCard, {\n        title: \"Total Pasien\",\n        value: (adminOverviewData === null || adminOverviewData === void 0 ? void 0 : (_adminOverviewData$to = adminOverviewData.totalPatients) === null || _adminOverviewData$to === void 0 ? void 0 : _adminOverviewData$to.toLocaleString('id-ID')) || '0',\n        icon: Users,\n        color: \"blue\",\n        trend: \"up\",\n        trendValue: \"+12%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MetricCard, {\n        title: \"Penerimaan Gawat Darurat\",\n        value: (adminOverviewData === null || adminOverviewData === void 0 ? void 0 : (_adminOverviewData$er = adminOverviewData.erAdmissions) === null || _adminOverviewData$er === void 0 ? void 0 : _adminOverviewData$er.toLocaleString('id-ID')) || '0',\n        icon: Zap,\n        color: \"purple\",\n        trend: \"up\",\n        trendValue: \"+17%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MetricCard, {\n        title: \"O- Satuan Darah\",\n        value: (adminOverviewData === null || adminOverviewData === void 0 ? void 0 : (_adminOverviewData$bl = adminOverviewData.bloodUnitsOminus) === null || _adminOverviewData$bl === void 0 ? void 0 : _adminOverviewData$bl.toLocaleString('id-ID')) || '0',\n        icon: Heart,\n        color: \"red\",\n        description: \"Stok Rendah\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MetricCard, {\n        title: \"Tempat Tidur Tersedia\",\n        value: (adminOverviewData === null || adminOverviewData === void 0 ? void 0 : (_adminOverviewData$av = adminOverviewData.availableBeds) === null || _adminOverviewData$av === void 0 ? void 0 : _adminOverviewData$av.toLocaleString('id-ID')) || '0',\n        icon: Hospital,\n        color: \"green\",\n        description: \"Tersedia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2\",\n        children: overallLoading && patientsPerWeekData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center h-64 bg-white rounded-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"h-8 w-8 animate-spin text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"ml-2 text-slate-500\",\n            children: \"Memuat grafik pasien per minggu...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 14\n        }, this) : /*#__PURE__*/_jsxDEV(HealthTrendChart, {\n          title: \"Pasien Minggu Ini\",\n          data: patientsPerWeekData,\n          dataKey: \"value\",\n          strokeColor: \"#3B82F6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AIInsightCard, {\n        summary: aiInsightsResponse === null || aiInsightsResponse === void 0 ? void 0 : (_aiInsightsResponse$d3 = aiInsightsResponse.data) === null || _aiInsightsResponse$d3 === void 0 ? void 0 : _aiInsightsResponse$d3.summary,\n        recommendations: aiInsightsResponse === null || aiInsightsResponse === void 0 ? void 0 : (_aiInsightsResponse$d4 = aiInsightsResponse.data) === null || _aiInsightsResponse$d4 === void 0 ? void 0 : _aiInsightsResponse$d4.recommendations,\n        isLoading: isLoadingAIInsights\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2\",\n        children: overallLoading && patientsPerHourData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center h-64 bg-white rounded-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"h-8 w-8 animate-spin text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"ml-2 text-slate-500\",\n            children: \"Memuat grafik pasien per jam...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(HealthMetricsChart, {\n          title: \"Pasien per Jam\",\n          type: \"bar\",\n          data: patientsPerHourData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SystemInfoCard, {\n        healthData: systemHealthData,\n        isLoading: isLoadingSystemHealth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2\",\n        children: /*#__PURE__*/_jsxDEV(QuickActionsCard, {\n          onSeedDatabase: seedDatabaseMutation.mutate,\n          isSeeding: seedDatabaseMutation.isPending\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AIInsightCard, {\n        summary: \"Serapan Hari Ini\" // Ubah ini sesuai konteks\n        ,\n        recommendations: todayAbsorption // Gunakan data serapan\n        ,\n        isLoading: overallLoading // Sesuaikan loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"Y+l3a1eV/+dff+F6H79nV46nMM0=\", false, function () {\n  return [useAuth, useQueryClient, useQuery, useQuery, useQuery, useQuery, useQuery, useMutation];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","Link","Users","Zap","Heart","Hospital","Loader2","MetricCard","HealthTrendChart","HealthMetricsChart","AIInsightCard","SystemInfoCard","QuickActionsCard","useAuth","useQuery","useMutation","useQueryClient","toast","dashboardAPI","jsxDEV","_jsxDEV","Dashboard","_aiInsightsResponse$d","_aiInsightsResponse$d2","_adminOverviewData$to","_adminOverviewData$er","_adminOverviewData$bl","_adminOverviewData$av","_aiInsightsResponse$d3","_aiInsightsResponse$d4","user","isAuthenticated","isLoading","isLoadingAuth","refreshUser","queryClient","useEffect","name","data","adminOverviewResponse","isLoadingAdminOverview","queryKey","queryFn","getAdminDashboardOverview","adminOverviewData","patientsPerWeekResponse","isLoadingPatientsPerWeek","getPatientsPerWeek","patientsPerWeekData","patientsPerHourResponse","isLoadingPatientsPerHour","getPatientsPerHour","patientsPerHourData","aiInsightsResponse","isLoadingAIInsights","getAIInsights","aiInsightSummary","summary","aiRecommendations","recommendations","todayAbsorption","useMemo","_adminOverviewData$pa","_adminOverviewData$pa2","id","text","bloodUnitsOminus","priority","patientTrendData","value","systemHealthResponse","isLoadingSystemHealth","getSystemHealth","systemHealthData","seedDatabaseMutation","mutationFn","error","Promise","reject","onSuccess","success","invalidateQueries","onError","_error$response","_error$response$data","response","message","overallLoading","className","children","fileName","lineNumber","columnNumber","to","title","totalPatients","toLocaleString","icon","color","trend","trendValue","erAdmissions","description","availableBeds","length","dataKey","strokeColor","type","healthData","onSeedDatabase","mutate","isSeeding","isPending","_c","$RefreshReg$"],"sources":["C:/Sehatify/apps/admin/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["// apps/admin/frontend/src/pages/Dashboard.tsx\n\n\"use client\"\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  Users, // Total Pasien\n  Zap, // Penerimaan Gawat Darurat\n  Heart, // O- Satuan Darah\n  Hospital, // Tempat Tidur Tersedia (dari lucide-react)\n  Loader2, // Loading spinner\n  AlertTriangle, // Untuk stok rendah/peringatan\n  Calendar // Icon untuk quick actions\n} from 'lucide-react';\n\n// Import komponen kustom yang sesuai untuk desain admin\nimport Card from '../components/Card'; // Asumsi Card ada di src/components/Card.tsx\nimport Button from '../components/Button'; // Asumsi Button ada di src/components/Button.tsx\nimport MetricCard from '../components/Dashboard/MetricCard'; // Sudah ada\nimport HealthTrendChart from '../components/charts/HealthTrendChart'; // Sudah ada\nimport HealthMetricsChart from '../components/charts/HealthMetricsChart'; // Sudah ada\nimport AIInsightCard from '../components/Dashboard/AIInsightCard'; // Sudah ada\nimport SystemInfoCard from '../components/Dashboard/SystemInfoCard'; // Sudah ada\nimport QuickActionsCard from '../components/Dashboard/QuickActionsCard'; // Sudah ada\n\nimport { useAuth } from '../contexts/AuthContext'; // Admin AuthContext\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'; // Menambahkan useQueryClient\nimport toast from 'react-hot-toast'; \n\n// Import API services dan tipe yang diperlukan dari services/api\nimport { \n  dashboardAPI, \n  inventoryAPI, // Untuk stok darah\n  patientAPI, // Untuk total pasien (opsional, jika Anda ingin data detail pasien di admin dashboard)\n  polyclinicAPI, // Untuk data poliklinik (opsional)\n  scheduleAPI, // Untuk jadwal (opsional)\n  type ApiResponse, // Import ApiResponse\n  type DashboardOverviewApiData, \n  type ChartDataForRecharts, \n  type DoctorDataFromAdminAPI, // Jika perlu detail dokter\n  type PolyclinicData, // Jika perlu detail poliklinik\n  type InventoryItemData // Jika perlu detail inventory\n} from '../services/api'; \n\n\nconst Dashboard: React.FC = () => {\n  const { user, isAuthenticated, isLoading: isLoadingAuth, refreshUser } = useAuth();\n  const queryClient = useQueryClient(); // Inisialisasi queryClient\n\n  // Ini untuk refresh profil admin, jika perlu nama yang benar\n  React.useEffect(() => {\n    if (isAuthenticated && user && !(user as any).name) { // User admin punya properti 'name'\n      refreshUser(); \n    }\n  }, [isAuthenticated, user, refreshUser]);\n\n  // Query untuk Dashboard Overview (sesuai desain baru)\n  const { data: adminOverviewResponse, isLoading: isLoadingAdminOverview } = useQuery<ApiResponse<DashboardOverviewApiData>>({\n    queryKey: ['adminDashboardOverview'],\n    queryFn: () => dashboardAPI.getAdminDashboardOverview(), // Endpoint baru di backend\n  });\n  const adminOverviewData = adminOverviewResponse?.data;\n\n  // Query untuk Pasien Minggu Ini (Line Chart)\n  const { data: patientsPerWeekResponse, isLoading: isLoadingPatientsPerWeek } = useQuery<ApiResponse<ChartDataForRecharts[]>>({\n    queryKey: ['patientsPerWeek'],\n    queryFn: () => dashboardAPI.getPatientsPerWeek(), // Endpoint baru di backend\n  });\n  const patientsPerWeekData = patientsPerWeekResponse?.data || [];\n\n  // Query untuk Pasien per Jam (Bar Chart)\n  const { data: patientsPerHourResponse, isLoading: isLoadingPatientsPerHour } = useQuery<ApiResponse<ChartDataForRecharts[]>>({\n    queryKey: ['patientsPerHour'],\n    queryFn: () => dashboardAPI.getPatientsPerHour(), // Endpoint baru di backend\n  });\n  const patientsPerHourData = patientsPerHourResponse?.data || [];\n\n  // Query untuk AI Insights\n  const { data: aiInsightsResponse, isLoading: isLoadingAIInsights } = useQuery<ApiResponse<{ summary: string; recommendations: { id: string; text: string; priority: \"high\" | \"medium\" | \"low\" }[] }>>({ \n    queryKey: ['aiInsights'],\n    queryFn: () => dashboardAPI.getAIInsights(), // Endpoint baru di backend\n  });\n  const aiInsightSummary = aiInsightsResponse?.data?.summary;\n  const aiRecommendations = aiInsightsResponse?.data?.recommendations || [];\n\n\n  // Data Serapan Hari Ini (menggunakan data dari AI Insights atau mock)\n  const todayAbsorption = React.useMemo(() => {\n    // Anda bisa mendapatkan ini dari AI Insights jika backend memberikan detail terpisah\n    // atau dari dashboardAPI.getTodayAbsorption() jika Anda buat endpoint itu\n    return [\n      { id: '1', text: `Stok darah O- rendah (${adminOverviewData?.bloodUnitsOminus || 0} unit tersedia)`, priority: adminOverviewData?.bloodUnitsOminus && adminOverviewData.bloodUnitsOminus <= 10 ? \"high\" : \"low\" as \"high\" | \"medium\" | \"low\" },\n      { id: '2', text: `Pasien meningkat ${adminOverviewData?.patientTrendData?.[0]?.value || 0}% dibandingkan kemarin`, priority: \"medium\" as \"high\" | \"medium\" | \"low\" }, // Data ini perlu dihitung di backend\n      { id: '3', text: `Shift malam perlu tambahan perawat`, priority: \"low\" as \"high\" | \"medium\" | \"low\" }, \n    ];\n  }, [adminOverviewData]);\n\n\n  // Data Sistem Health (SystemInfoCard)\n  const { data: systemHealthResponse, isLoading: isLoadingSystemHealth } = useQuery<ApiResponse<any>>({\n    queryKey: ['systemHealth'],\n    queryFn: () => dashboardAPI.getSystemHealth(), // Menggunakan API system health yang sudah ada\n  });\n  const systemHealthData = systemHealthResponse?.data;\n\n\n  // Mutasi untuk Seed Database (dari QuickActionsCard)\n  const seedDatabaseMutation = useMutation({\n    mutationFn: async () => {\n      // Anda perlu membuat endpoint POST /api/v1/seed/database di backend\n      // Ini biasanya di `seedRoutes.ts` dan `seedController.ts`\n      toast.error(\"Seed Database API belum diimplementasikan di backend!\");\n      return Promise.reject(\"Not Implemented\"); \n    },\n    onSuccess: () => {\n      toast.success(\"Database berhasil diisi dengan data sampel!\");\n      // Invalidate semua query terkait dashboard agar data baru termuat\n      queryClient.invalidateQueries({ queryKey: ['adminDashboardOverview'] });\n      queryClient.invalidateQueries({ queryKey: ['patientsPerWeek'] });\n      queryClient.invalidateQueries({ queryKey: ['patientsPerHour'] });\n      queryClient.invalidateQueries({ queryKey: ['aiInsights'] });\n      queryClient.invalidateQueries({ queryKey: ['lowStockAlerts'] }); // Ini dari inventory\n      queryClient.invalidateQueries({ queryKey: ['systemHealth'] });\n    },\n    onError: (error: any) => {\n      toast.error(`Gagal mengisi database: ${error.response?.data?.message || error.message}`);\n    },\n  });\n\n  const overallLoading = isLoadingAuth || isLoadingAdminOverview || isLoadingPatientsPerWeek || isLoadingPatientsPerHour || isLoadingAIInsights || isLoadingSystemHealth;\n\n\n  // Jika belum login atau masih loading autentikasi, mungkin tampilkan loader atau redirect\n  if (isLoadingAuth) {\n    return (\n      <div className=\"flex h-screen items-center justify-center\">\n        <Loader2 className=\"h-10 w-10 animate-spin text-primary\" />\n        <p className=\"ml-4 text-slate-500\">Memuat informasi autentikasi...</p>\n      </div>\n    );\n  }\n\n  // Jika tidak terautentikasi (admin), arahkan ke login\n  if (!isAuthenticated && !isLoadingAuth) {\n    return (\n      <div className=\"min-h-screen bg-background py-8 flex items-center justify-center text-center\">\n        <p className=\"text-xl text-text-light\">Silakan <Link to=\"/login\" className=\"text-primary hover:underline\">login</Link> untuk melihat dashboard Anda.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\"> \n      {/* Header Dashboard */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-slate-800\">Dashboard Overview</h1>\n        <p className=\"text-slate-500\">Selayang pandang manajemen rumah sakit Anda.</p>\n      </div>\n\n      {/* Metric Cards (Baris 1) */}\n      {overallLoading && !adminOverviewData ? (\n         <div className=\"flex justify-center items-center h-24\">\n           <Loader2 className=\"h-8 w-8 animate-spin text-blue-600\" />\n           <p className=\"ml-2 text-slate-500\">Memuat metrik...</p>\n         </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5\">\n          <MetricCard title=\"Total Pasien\" value={adminOverviewData?.totalPatients?.toLocaleString('id-ID') || '0'} icon={Users} color=\"blue\" trend=\"up\" trendValue=\"+12%\" />\n          <MetricCard title=\"Penerimaan Gawat Darurat\" value={adminOverviewData?.erAdmissions?.toLocaleString('id-ID') || '0'} icon={Zap} color=\"purple\" trend=\"up\" trendValue=\"+17%\" />\n          <MetricCard title=\"O- Satuan Darah\" value={adminOverviewData?.bloodUnitsOminus?.toLocaleString('id-ID') || '0'} icon={Heart} color=\"red\" description=\"Stok Rendah\" />\n          <MetricCard title=\"Tempat Tidur Tersedia\" value={adminOverviewData?.availableBeds?.toLocaleString('id-ID') || '0'} icon={Hospital} color=\"green\" description=\"Tersedia\" />\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Pasien Minggu Ini (Line Chart) */}\n        <div className=\"lg:col-span-2\">\n          {overallLoading && patientsPerWeekData.length === 0 ? (\n             <div className=\"flex justify-center items-center h-64 bg-white rounded-lg border border-gray-100\">\n               <Loader2 className=\"h-8 w-8 animate-spin text-blue-600\" />\n               <p className=\"ml-2 text-slate-500\">Memuat grafik pasien per minggu...</p>\n             </div>\n          ) : (\n            <HealthTrendChart title=\"Pasien Minggu Ini\" data={patientsPerWeekData} dataKey=\"value\" strokeColor=\"#3B82F6\" />\n          )}\n        </div>\n\n        {/* AI Assistant Card (kolom paling kanan) */}\n        <AIInsightCard \n          summary={aiInsightsResponse?.data?.summary} \n          recommendations={aiInsightsResponse?.data?.recommendations} \n          isLoading={isLoadingAIInsights}\n        />\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Pasien per Jam (Bar Chart) */}\n        <div className=\"lg:col-span-2\">\n          {overallLoading && patientsPerHourData.length === 0 ? (\n            <div className=\"flex justify-center items-center h-64 bg-white rounded-lg border border-gray-100\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-blue-600\" />\n              <p className=\"ml-2 text-slate-500\">Memuat grafik pasien per jam...</p>\n            </div>\n          ) : (\n            <HealthMetricsChart title=\"Pasien per Jam\" type=\"bar\" data={patientsPerHourData} />\n          )}\n        </div>\n\n        {/* System Info Card (di bawah AI Assistant) */}\n        <SystemInfoCard healthData={systemHealthData} isLoading={isLoadingSystemHealth} />\n      </div>\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Quick Actions Card (Serapan Hari Ini) */}\n        <div className=\"lg:col-span-2\">\n          <QuickActionsCard onSeedDatabase={seedDatabaseMutation.mutate} isSeeding={seedDatabaseMutation.isPending} />\n        </div>\n\n        {/* Serapan Hari Ini (di bawah System Info Card, menggunakan AIInsightCard) */}\n        <AIInsightCard \n          summary=\"Serapan Hari Ini\" // Ubah ini sesuai konteks\n          recommendations={todayAbsorption} // Gunakan data serapan\n          isLoading={overallLoading} // Sesuaikan loading\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}